---
kind: "Document"
hash: "sha256:ebf18c528c81b9c52959cb05031d3001bb6177280765aa8c89bb836d00e1176e"
title: "Feature: OpenShip Export and Reconciliation"
language: "en"
---

# OpenShip Export and Reconciliation

## Purpose
Represent and evolve architecture state through OpenShip v1 file bundles.

## Capabilities
- Generate full OpenShip file bundle for current thread system.
- Include OpenShip specification artifacts and AGENTS bootstrap in generated bundle.
- Apply updated bundle back into new forked system snapshot.
- Validate matrix references and typed node id scheme constraints before commit.

## Workflow
- Export builds manifest, concerns, nodes, edges, matrix refs, documents, and artifacts from current system tables.
- Desktop runner writes bundle to local workspace and executes assistant updates against that workspace.
- Completion endpoint optionally sends changed bundle files back for reconciliation.
- Reconciliation opens update action, forks system, rewrites OpenShip tables, restores prompt refs, and inserts edges.

## Data touched
- systems, concerns, nodes, edges, documents, matrix_refs, artifacts, file_contents, artifact_files.

## Failure modes
- Missing required bundle files or malformed YAML.
- Matrix references to unknown document hashes.
- Typed node id and openshipKey mismatch.
- Invalid edge or containment semantics.

## Source traceability
- apps/api/src/agent-runner.ts
- apps/api/src/openship-sync.ts
- apps/api/src/routes/v1.ts
- apps/desktop/src/main/agent.ts
- skills/openship-specs-v1/SKILLS.md
