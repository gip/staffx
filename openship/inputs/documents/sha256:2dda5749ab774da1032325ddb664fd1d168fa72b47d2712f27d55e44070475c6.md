---
kind: Document
hash: sha256:2dda5749ab774da1032325ddb664fd1d168fa72b47d2712f27d55e44070475c6
title: Security and Authentication Model
language: en
---

Security model summary for the runtime.

Identity and token model:
- Authentication is bearer-token based, with user identity resolved from verified token claims.
- Health and OAuth callback paths are intentionally unauthenticated; all business routes require valid user context.
- Web and desktop clients obtain access tokens through Auth0 and include them on API requests.

Authorization model:
- Project access is role- and visibility-aware (owner, editor, viewer with public/private controls).
- Thread access is derived from project access rules, and assistant run operations verify thread authorization.
- Mutating settings, roles, concerns, collaborators, and archive/visibility endpoints enforce stricter role checks.

Integration security:
- OAuth states are short-lived and validated on callback before token exchange.
- Integration tokens are stored encrypted at rest and can be revoked/disconnected through API endpoints.
- Callback return targets are sanitized to prevent open redirect abuse.

Data and transport protections:
- HTTPS is required for external client and provider communication in non-local environments.
- Database credentials are environment-driven and must be scoped minimally.
- Secrets and private keys must be injected at runtime, never embedded in bundle artifacts.

Operational security checkpoints:
1. Verify token verification settings (issuer, audience, JWKS behavior) per environment.
2. Confirm role checks on project and thread mutating routes.
3. Confirm OAuth state expiry and single-use semantics.
4. Confirm event stream access requires authenticated context.
5. Confirm logs do not leak token values or sensitive payload content.
