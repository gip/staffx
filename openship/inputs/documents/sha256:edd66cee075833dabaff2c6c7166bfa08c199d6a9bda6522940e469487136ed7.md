---
kind: "Document"
hash: "sha256:edd66cee075833dabaff2c6c7166bfa08c199d6a9bda6522940e469487136ed7"
title: "Connectivity and Protocol Topology"
language: "en"
---

# Connectivity and Protocol Topology

## Primary runtime flows
- Web SPA to API over HTTPS using JSON REST contracts.
- Desktop renderer to desktop main over Electron IPC channels.
- Desktop renderer and desktop main to API over HTTPS.
- API to PostgreSQL over pgwire SQL protocol.
- Web SPA to Auth0 over OAuth and OIDC browser redirects.
- Desktop main to Auth0 over OAuth and OIDC PKCE flow.
- API to Auth0 over HTTPS for token verification context and profile synchronization.
- API to Notion and Google endpoints over HTTPS for integration lifecycle and import operations.
- API and desktop main to Anthropic and OpenAI over HTTPS through agent runtime provider integrations.

## Eventing and synchronization
- API writes staffx_events rows and exposes event polling plus SSE stream interfaces.
- Web and desktop clients subscribe and refresh thread detail when run and matrix events are observed.

## Dependency-level flows
- API process depends on @staffx/agent-runtime library for run execution and OpenShip diff support.
- Web and desktop renderer depend on @staffx/ui for composable interface views.
- Desktop main depends on @staffx/agent-runtime for local execution mode.
