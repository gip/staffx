---
kind: Document
hash: sha256:f46ed9f37a251c080bb4569dd6a562939465edc02ac547e0bda4b9053eeb1f6e
title: Data Model Summary
language: en
---

Data model summary for rebuild and migration planning.

Core identity and collaboration entities:
- Users store account identity, handles, profile metadata, and timestamps.
- Projects store ownership, visibility, archive state, and descriptive metadata.
- Collaboration entities map project members, project roles, and member-role assignments.

Architecture state entities:
- Systems hold top-level architecture state snapshots and root-node binding.
- Nodes and edges represent topology and connectivity graph.
- Concerns represent matrix columns for architecture documentation scope.
- Documents store shared inputs (Document, Skill, Prompt) keyed by hash identity.
- Matrix references bind node+concern cells to shared document hashes.
- Artifacts and artifact-files store node-local outputs and optional code/file content hashes.

Threading and execution entities:
- Threads bind project history to evolving architecture systems.
- Actions, changes, and messages capture thread activity, mutations, and conversation timeline.
- Assistant runs capture queue lifecycle, status, payloads, and completion artifacts.

Integration and event entities:
- Integration oauth states and user integration records manage external provider connections and token lifecycle.
- Events table stores publishable domain events for polling and streaming clients.

Rebuild considerations:
- Preserve migration ordering for constraints, triggers, helper functions, and derived views.
- Preserve UUID/text key behavior exactly where route contracts depend on identifier parsing.
- Validate foreign keys and unique constraints for project naming, collaborator uniqueness, and matrix/document integrity.
- Confirm helper SQL functions used by thread creation/cloning and diff/reconciliation flows are present and compatible.
