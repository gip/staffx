---
kind: Document
hash: sha256:138de69d3958c6831b437775d3282a11f30ec1f9923c93db18ab7a89ca5a9c09
title: Specs - API Service Process
language: en
---

This technical specification defines rebuild-critical implementation constraints for API Service Process. The intent is to allow a new team to recreate equivalent runtime behavior from documents alone.

Node identity and boundary:
- Node ID: p.api.
- Kind: Process.
- Parent: API Runtime.
- Ownership model: first_party.
- Trust boundary: internal.
- Metadata runtime: node-fastify-process.

Interface and connectivity contract:
- Inbound dependency count: 3.
- Outbound dependency count: 5.
- Inbound contracts:
  Runtime flow from Web Client Process using transport https and application semantics rest-json.
  Runtime flow from Desktop Renderer Process using transport https and application semantics rest-json.
  Runtime flow from Desktop Main Process using transport https and application semantics rest-json.
- Outbound contracts:
  Runtime flow to Auth0 Identity Process using transport https and application semantics oidc-oauth2.
  Runtime flow to Google Docs API Process using transport https and application semantics google-docs-rest.
  Runtime flow to Notion API Process using transport https and application semantics notion-rest.
  Dataflow flow to PostgreSQL Process using transport pgwire and application semantics postgresql-sql.
  Dependency flow to @staffx/agent-runtime Execution Library using transport unspecified protocol and application semantics unspecified application protocol.

Operational specification:
- Startup order must satisfy inbound dependency readiness before serving or consuming traffic.
- Shutdown order must drain in-flight work where possible and close external connections cleanly.
- Configuration must be environment-driven, with explicit defaults only where safe for local development.
- Security controls must enforce least privilege for tokens, credentials, and network paths crossing boundaries.

Rebuild procedure for this node:
1. Recreate containment location and parent relationship in the topology graph.
2. Re-establish all inbound and outbound edge contracts, including protocol and layer7 semantics.
3. Restore concern-matrix linked documents and skills before enabling write paths.
4. Validate behavior against node-specific feature expectations and shared integration contracts.
5. Record evidence of successful startup, interface validation, and failure recovery checks.
